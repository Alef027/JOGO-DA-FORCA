<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo da Forca</title>

    <script>
        let sorteio=["cavalo","elefante","girafa","cachorro","gato","tucano"]
        let qtde=sorteio.length-1;
        let pos=Math.round(Math.random()*qtde);
        let palavra=sorteio[pos];
        let tam=palavra.length;
        let acertos;
        let erros=0;
        let palito=[];
        let acertou=false;
        let jogando=false;
        let jog;
        

        function defineLetras(l){
            let obj;
            for(let i=0; i<20; i++){
                obj=document.getElementById("letra" + i).value="";
                obj=document.getElementById("letra" + i).style.display="none";
            }
            for(let i=0;i < l; i ++){
                obj=document.getElementById("letra" + i).style.display="inline-block";
            }
        }

        function jogar(){
            jog.focus();
            if(jog.value==""){
                alert("Digite uma letra");
            }else{
                if(jogando){
                    let obj;
                    let letraTmp;
                    let letra;
                    let pesq;
                    letra=jog.value;
                    jog.value="";
                    acertou=false;
                    pesq=palavra.match(letra);
                    while(pesq != null){
                        letraTmp=palavra.search(letra);
                        obj=document.getElementById("letra" + letraTmp).value=letra;
                        palavra=palavra.replace(letra,'0');
                        acertos++;
                        pesq=palavra.match(letra);
                        acertou=true;
                    }
                    if(!acertou){
                        document.getElementById("dvletrasdigitadas").innerHTML+=letra.toUpperCase() + "";
                        erros++;
                        if(erros<7){
                            palito[erros].style.display="block";
                        }else{
                            document.getElementById("cabeca");
                            document.getElementById("dvmsg").innerHTML="PERDEU";
                            jogando=false;
                        }
                    }
                    if(acertos==tam){
                        document.getElementById("dvmsg").innerHTML="";
                        document.getElementById("dvmsg").innerHTML="GANHOU";
                        jogando=false;
                    }
                }
            }
        }

        function inicia(){
            jogando=true;
            jog=document.getElementById("letraJ");
            jog.value="";
            jog.focus();
            acertos=0;
            erros=0;
            acertou=false;
            document.getElementById("dvletrasdigitadas").innerHTML="Letras Digitadas:";
            pos=Math.round(Math.random()*qtde);
            palavra=sorteio[pos];
            tam=palavra.length;
            defineLetras(tam);
            document.getElementById("dvmsg").innerHTML="";
            palito[1]=document.getElementById("cabeca");
            palito[2]=document.getElementById("corpo");
            palito[3]=document.getElementById("bracoE");
            palito[4]=document.getElementById("bracoD");
            palito[5]=document.getElementById("pernaE");
            palito[6]=document.getElementById("pernaD");
            document.getElementById("cabeca");
            for(let i=1;i<7;i++){
                palito[i].style.display="none";
            }
        }

        window.addEventListener("load", inicia);
    </script>
</head>
<body>
    <style>
        .letra{
            width:30px;
            font-size:30px;
            text-transform: uppercase;
            text-align: center;
            margin: 5px;
            display: none;
        }
        .letraJ{
            width:30px;
            font-size:30px;
            text-transform: uppercase;
            text-align: center;
            margin: 5px;
        }
        .dvdisplay{
            display: block;
        }
        #dvForca{
            position:absolute;
            left:150px;
        }
        
    </style>
    <div id="dvmenu" class="dvdisplay">
        <button onclick="inicia()">Nova Palavra</button>
    </div>
    <div id="dvplavra" class="dvdisplay">
        <input type="text" id="letra0" class="letra" maxlength="1">
        <input type="text" id="letra1" class="letra" maxlength="1">
        <input type="text" id="letra2" class="letra" maxlength="1">
        <input type="text" id="letra3" class="letra" maxlength="1">
        <input type="text" id="letra4" class="letra" maxlength="1">
        <input type="text" id="letra5" class="letra" maxlength="1">
        <input type="text" id="letra6" class="letra" maxlength="1">
        <input type="text" id="letra7" class="letra" maxlength="1">
        <input type="text" id="letra8" class="letra" maxlength="1">
        <input type="text" id="letra9" class="letra" maxlength="1">
        <input type="text" id="letra10" class="letra" maxlength="1">
        <input type="text" id="letra11" class="letra" maxlength="1">
        <input type="text" id="letra12" class="letra" maxlength="1">
        <input type="text" id="letra13" class="letra" maxlength="1">
        <input type="text" id="letra14" class="letra" maxlength="1">
        <input type="text" id="letra15" class="letra" maxlength="1">
        <input type="text" id="letra16" class="letra" maxlength="1">
        <input type="text" id="letra17" class="letra" maxlength="1">
        <input type="text" id="letra18" class="letra" maxlength="1">
        <input type="text" id="letra19" class="letra" maxlength="1">
    </div>
    <div id="dvjogador" class="dvdisplay">
        <div id="controlesJogador">
            <input type="text" id="letraJ" maxlength="1">
            <button onclick="jogar()">Jogar</button>
            <div id="dvmsg"></div><br>
            <div id="dvletrasdigitadas">Letras Digitadas</div>
        </div>  
        <div id="dvForca">
            <ol> ___________</ol>
        <ol>|&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp          O</ol>
        <ol>|&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp        /|\</ol>
        <ol>|&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp      |</ol>
        <ol>|&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp  &nbsp        / \</ol>
        <ol>|&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp</ol> 
                  
        </div>
    </div>
</body>
</html>